---
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <title>OSU Course Dependency Visualizer</title>
  </head>
  <body>
    <div id="graph"></div>

    <script>
      import ForceGraph from "force-graph";

      const dashLen = 6;
      const gapLen = 2;

      fetch("courses.json")
        .then((res) => res.json())
        .then((data) => {
          const graphElement = document.getElementById("graph");
          if (!graphElement) throw new Error("No graph element found");

          ForceGraph()(graphElement)
            .graphData(data)
            .nodeId("id")
            .nodeVal("val")
            .nodeLabel("label")
            .nodeAutoColorBy("group")
            .linkSource("source")
            .linkLineDash((link) => (link as any).dashed && [dashLen, gapLen])
            .linkDirectionalArrowLength(5)
            .linkTarget("target");
        });
    </script>
  </body>
</html>
